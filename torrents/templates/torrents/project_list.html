{# torrents/templates/torrents/project_list.html #}

{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block content %}
<h2>{{ active_project_count }} Project{% if active_project_count != 1 %}s{% endif %}</h2>

<!-- Search Form -->
<form method="get" action="{% url 'project_list' %}" class="mb-4">
    <div class="input-group">
        <input 
            type="text" 
            name="query" 
            class="form-control" 
            placeholder="Search projects..." 
            value="{{ query|default_if_none:'' }}">
        <button class="btn btn-primary" type="submit">Search</button>
    </div>
</form>

<!-- Search Results or Grouped Projects -->
{% if query %}
    <h3>Search Results for "{{ query }}"</h3>
    <p>{{ result_count }} result{% if result_count != 1 %}s{% endif %} found.</p>
{% endif %}
{% include "torrents/_project_list.html" %}
{% endblock %}
